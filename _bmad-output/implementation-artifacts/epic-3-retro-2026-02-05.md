# Epic 3 Retrospective: Suivi de progression (Roadmap)

Date: 2026-02-05

## Epic Summary

- **Stories delivered:** 2/2 (100%)
- **Stories:** 3.1 Statistiques globales & timeline, 3.2 PRs liées aux epics
- **FRs couverts:** FR14, FR15, FR16, FR17

## What Went Well

- **GlobalStats responsive:** La grille 2 cols mobile / 4 cols desktop rend bien. Les 4 métriques (total, done, %, sprint actuel) donnent une vue d'ensemble immédiate.
- **Timeline CSS légère:** La timeline verticale utilise juste `border-left` + dots positionnés — pas de librairie externe, résultat propre et performant.
- **PRs liées aux epics:** Le mapping par nom de branche (`prByBranch` Map) est élégant — les PRs sont associées aux sprints sans configuration manuelle.
- **Badge PR cliquable:** Le badge PR dans SprintCard est un lien direct vers GitHub avec icône d'état (open/merged/closed/draft) — information dense et actionnable.
- **useStoryStatus centralisé:** Toutes les calculations de progression passent par un seul composable — cohérence garantie entre GlobalStats et SprintCard.

## What Could Be Improved

- **SprintCard 0 stories (corrigé):** L'epic sans stories affichait une barre 0% sans explication. Corrigé : affiche maintenant "No stories in this epic" au lieu de la barre de progression.
- **Pas de date/période sur les sprints:** Les cards sprint n'affichent pas de période temporelle — uniquement un numéro et un goal. Potentiellement confusant sur les gros projets.
- **Mapping PR limité à 1 par sprint:** Le modèle `Sprint.pr?: PullRequest | null` ne supporte qu'une seule PR par epic. Un epic avec plusieurs PRs (feature branches multiples) ne montrerait que la dernière.

## Key Insights

- Le pattern "fetch PRs → match par branche → injecter dans sprints" fonctionne bien pour les projets BMAD qui suivent la convention `epic-N/story-*` pour les branches.
- La progression basée sur le count de stories done/total est suffisante pour un viewer v1. Un calcul par story points serait un ajout v2.

## Action Items

1. **Support multi-PR par epic** — changer `Sprint.pr` en `Sprint.prs: PullRequest[]` pour les projets avec plusieurs branches par epic
2. **Période temporelle** — ajouter les dates de début/fin de sprint si disponibles dans sprint-status.yaml

## Readiness Assessment

- [x] Tous les AC satisfaits (y compris AC:3 empty epic — corrigé)
- [x] Stats globales visibles
- [x] Timeline fonctionnelle
- [x] PRs cliquables vers GitHub
- [x] Badges d'état PR corrects
